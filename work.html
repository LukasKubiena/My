<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work — Lukas Kubiena</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="preload" href="NeueHaasDisplay-Light.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="NeueHaasDisplay-Mediu.woff2" as="font" type="font/woff2" crossorigin>
    <style>
        @font-face {
            font-family: 'NeueHaasDisplay-Light';
            src: url('NeueHaasDisplay-Light.woff2') format('woff2');
        }
        @font-face {
            font-family: 'NeueHaasDisplay-Medium';
            src: url('NeueHaasDisplay-Mediu.woff2') format('woff2');
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: #ffffff;
            font-family: 'NeueHaasDisplay-Light', sans-serif;
            overflow: hidden;
            height: 100vh;
        }

        a { color: inherit; text-decoration: none; }

        /* ══════════════════════════════
           NAV
        ══════════════════════════════ */
        .nav-bar {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: 64px;
            background: rgba(255, 255, 255, 0.97);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            z-index: 100;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
            height: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-link {
            color: #666;
            font-size: 15px;
            font-family: 'NeueHaasDisplay-Light', sans-serif;
            transition: color 0.3s ease;
        }
        .nav-link:hover { color: #000; }
        .nav-link.active { color: #000; }

        .right-links { display: flex; gap: 24px; }

        /* ══════════════════════════════
           SLIDE SHELL
        ══════════════════════════════ */
        .slides-wrapper {
            position: fixed;
            top: 64px; left: 0; right: 0; bottom: 0;
        }

        .slide {
            position: absolute;
            inset: 0;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.48s ease;
        }

        .slide.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* ══════════════════════════════
           SHARED GRID
           6 columns — spacing baked in (no column-gap):
           col1: 12% left margin
           col2: 17% project info
           col3: 35% image
           col4: 8%  mid gap
           col5: 16% text
           col6: 1fr right margin
           3 rows: 11vh top | 1fr content | 11vh bottom
        ══════════════════════════════ */
        .slide-inner {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
            height: 100%;
            display: grid;
            grid-template-columns: 12% 17% 35% 8% 16% 1fr;
            grid-template-rows: 11vh 1fr 11vh;
        }

        /* ══════════════════════════════
           PROJECT SLIDE — DESKTOP
        ══════════════════════════════ */

        .project-info {
            grid-column: 2;
            grid-row: 2;
            align-self: start;
            min-width: 0;
        }

        .project-title {
            font-family: 'NeueHaasDisplay-Medium', sans-serif;
            font-size: 22px;
            color: #000;
            letter-spacing: -0.02em;
            line-height: 1.25;
            white-space: nowrap;
        }

        /* Animated client name wrapper */
        .client-name-wrap {
            display: inline-block;
            overflow: hidden;
            vertical-align: top;
        }
        #client-name { display: inline-block; }

        .project-type {
            font-size: 15px;
            color: #999;
            font-style: italic;
            margin-top: 4px;
        }

        .project-image-col {
            grid-column: 3;
            grid-row: 1 / 4;
            min-width: 0;          /* stops grid track bloating to image natural-width */
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 2.5rem 0;
        }

        .project-img-wrap {
            width: 100%;
            line-height: 0;
        }

        .project-image {
            width: 100%;
            height: auto;
            display: block;
            object-fit: contain;
        }

        .project-text-col {
            grid-column: 5;
            grid-row: 2;
            align-self: start;
            min-width: 0;
        }

        .project-text {
            font-size: 15px;
            line-height: 1.45;
            text-align: justify;
            color: #000;
            letter-spacing: -0.01em;
        }
        .project-text p + p { margin-top: 1em; }

        .project-date {
            grid-column: 2;
            grid-row: 3;
            align-self: end;
            font-size: 15px;
            color: #000;
            padding-bottom: 2rem;
            min-width: 0;
        }

        /* ══════════════════════════════
           TRANSITION ANIMATIONS
        ══════════════════════════════ */

        @keyframes outUp {
            from { opacity: 1; transform: translateY(0); }
            to   { opacity: 0; transform: translateY(-10px); }
        }
        @keyframes inUp {
            from { opacity: 0; transform: translateY(10px); }
            to   { opacity: 1; transform: translateY(0); }
        }
        @keyframes outDown {
            from { opacity: 1; transform: translateY(0); }
            to   { opacity: 0; transform: translateY(10px); }
        }
        @keyframes inDown {
            from { opacity: 0; transform: translateY(-10px); }
            to   { opacity: 1; transform: translateY(0); }
        }
        @keyframes xfadeOut { from { opacity: 1; } to { opacity: 0; } }
        @keyframes xfadeIn  { from { opacity: 0; } to { opacity: 1; } }

        .anim-out-up   { animation: outUp   0.22s ease forwards; }
        .anim-in-up    { animation: inUp    0.22s ease forwards; }
        .anim-out-down { animation: outDown 0.22s ease forwards; }
        .anim-in-down  { animation: inDown  0.22s ease forwards; }
        .img-out       { animation: xfadeOut 0.22s ease forwards; }
        .img-in        { animation: xfadeIn  0.22s ease forwards; }

        /* ══════════════════════════════
           PROGRESS DOTS
        ══════════════════════════════ */
        .scroll-dots {
            position: fixed;
            bottom: 26px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 7px;
            z-index: 50;
        }

        .dot {
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #d0d0d0;
            transition: background 0.35s ease, transform 0.35s ease;
            cursor: pointer;
        }

        .dot.active {
            background: #000;
            transform: scale(1.25);
        }

        /* ══════════════════════════════
           MOBILE  (≤ 768 px)
        ══════════════════════════════ */
        @media (max-width: 768px) {

            /* Let the page scroll naturally */
            body {
                overflow: auto;
                height: auto;
            }

            /* Wrapper becomes normal flow */
            .slides-wrapper {
                position: static;
                /* visual space for fixed nav */
                padding-top: 64px;
            }

            /* Every slide is a block; only active is shown */
            .slide {
                position: static;
                opacity: 1;
                pointer-events: auto;
                display: none;
                transition: none;
                min-height: calc(100vh - 64px);
            }
            .slide.active { display: block; }

            /* ── mobile inner layout ── */
            .slide-inner {
                display: flex;
                flex-direction: column;
                padding: 2.5rem 20px 3rem;
                height: auto;
                min-height: calc(100vh - 64px);
                /* override the desktop grid */
                grid-template-columns: unset;
                grid-template-rows: unset;
            }

            /* Reorder: title → image → text → date */
            .project-info {
                order: 1;
                grid-column: unset; grid-row: unset;
                min-width: unset;
                margin-bottom: 1.5rem;
                flex-shrink: 0;
            }

            .project-image-col {
                order: 2;
                grid-column: unset; grid-row: unset;
                padding: 0;
                margin-bottom: 2rem;
                flex-shrink: 0;
                height: auto;
                overflow: visible;
                justify-content: flex-start;
            }

            .project-image {
                width: 100%;
                height: auto;
                object-fit: contain;
            }

            .project-text-col {
                order: 3;
                grid-column: unset; grid-row: unset;
                min-width: unset;
                flex: 1;
                margin-bottom: 2rem;
            }

            .project-text {
                text-align: left;
                font-size: 15px;
                line-height: 1.55;
            }

            .project-date {
                order: 4;
                grid-column: unset; grid-row: unset;
                min-width: unset;
                padding-bottom: 0;
                flex-shrink: 0;
            }

            /* Mobile nav arrows */
            .mobile-arrows {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 2rem 20px 0;
                flex-shrink: 0;
            }

            .mobile-arrow {
                font-size: 15px;
                color: #999;
                cursor: pointer;
                padding: 8px 0;
                transition: color 0.25s ease;
                background: none;
                border: none;
                font-family: 'NeueHaasDisplay-Light', sans-serif;
                letter-spacing: -0.01em;
            }
            .mobile-arrow:hover { color: #000; }
            .mobile-arrow:disabled { opacity: 0; pointer-events: none; }

            .mobile-counter {
                font-size: 13px;
                color: #bbb;
                letter-spacing: 0.02em;
            }

            /* Hide desktop dots on mobile */
            .scroll-dots { display: none; }

            /* Touch hint — shown briefly on load */
            .touch-hint {
                display: block;
                text-align: center;
                font-size: 13px;
                color: #ccc;
                padding-top: 1.5rem;
                letter-spacing: 0.02em;
                flex-shrink: 0;
            }
        }

        @media (min-width: 769px) {
            .mobile-arrows { display: none; }
            .touch-hint    { display: none; }
        }
    </style>
</head>
<body>

    <nav class="nav-bar">
        <div class="nav-content">
            <a href="./index.html" class="nav-link">Lukas Kubiena</a>
            <div class="right-links">
                <a href="./work.html" class="nav-link active">work</a>
                <a href="./writing/index.html" class="nav-link">blog</a>
                <a href="mailto:lukasmariakubiena@gmail.com" class="nav-link">contact</a>
            </div>
        </div>
    </nav>

    <div class="slides-wrapper" id="slides-wrapper">

        <!-- Single shared project slide; JS swaps content -->
        <div class="slide active" id="slide-project">
            <div class="slide-inner">

                <div class="project-info">
                    <div class="project-title">
                        For&nbsp;<span class="client-name-wrap"><span id="client-name"></span></span>
                    </div>
                    <div class="project-type" id="project-type"></div>
                </div>

                <div class="project-image-col">
                    <div class="project-img-wrap">
                        <img id="project-image" src="" alt="">
                    </div>
                </div>

                <div class="project-text-col">
                    <div class="project-text" id="project-text"></div>
                </div>

                <div class="project-date" id="project-date"></div>

            </div>

            <!-- Mobile only: prev / counter / next -->
            <div class="mobile-arrows" id="mobile-arrows">
                <button class="mobile-arrow" id="mob-prev" disabled>← prev</button>
                <span class="mobile-counter" id="mob-counter"></span>
                <button class="mobile-arrow" id="mob-next">next →</button>
            </div>

        </div>

    </div><!-- /slides-wrapper -->

    <!-- Desktop progress dots -->
    <div class="scroll-dots" id="scroll-dots"></div>

    <script>
    /* ═══════════════════════════════════════════════
       PROJECT DATA
    ═══════════════════════════════════════════════ */
    const projects = [
        {
            client:   'co.built',
            type:     'Logo Design',
            location: 'Vienna, 2026',
            image:    'work/img1.png',
            text: [
                'We intercut between intimate Vienna moments (an elderly couple kissing through a café window, light patterns on architecture) and brief flashes of historical curiosity \u2014 These weave with other moments \u2014 a kid showing another kid a chalk drawing it made on the street with cut to: feynman laughing during a lecture, drawing on a chalkboard, the first photograph ever taken, the Lumière brothers\u2019 train arriving at a station, Hitchcock genuinely laughing on stage, the AlphaGo move that surprised its creators, Lee Sedol\u2019s move 78, scientists reacting to the first picture of a black hole.',
                'Not presented as \u201cgreat achievements\u201d but people following their wonder, human moments \u2014 Feynman\u2019s joy, not Feynman the genius.',
                'The ping-pong rhythm feels natural, like one thought leading to another.'
            ]
        },
        {
            client:   'MindStash',
            type:     'Logo Design',
            location: 'Vienna, 2026',
            image:    'work/img2.png',
            text: [
                'We intercut between intimate Vienna moments (an elderly couple kissing through a café window, light patterns on architecture) and brief flashes of historical curiosity \u2014 These weave with other moments \u2014 a kid showing another kid a chalk drawing it made on the street with cut to: feynman laughing during a lecture, drawing on a chalkboard, the first photograph ever taken, the Lumière brothers\u2019 train arriving at a station, Hitchcock genuinely laughing on stage, the AlphaGo move that surprised its creators, Lee Sedol\u2019s move 78, scientists reacting to the first picture of a black hole.',
                'Not presented as \u201cgreat achievements\u201d but people following their wonder, human moments \u2014 Feynman\u2019s joy, not Feynman the genius.',
                'The ping-pong rhythm feels natural, like one thought leading to another.'
            ]
        }
    ];

    /* ═══════════════════════════════════════════════
       DOM REFS
    ═══════════════════════════════════════════════ */
    const clientNameEl   = document.getElementById('client-name');
    const projectTypeEl  = document.getElementById('project-type');
    const projectImageEl = document.getElementById('project-image');
    const projectTextEl  = document.getElementById('project-text');
    const projectDateEl  = document.getElementById('project-date');
    const dotsContainer  = document.getElementById('scroll-dots');
    const mobPrev        = document.getElementById('mob-prev');
    const mobNext        = document.getElementById('mob-next');
    const mobCounter     = document.getElementById('mob-counter');

    /* ═══════════════════════════════════════════════
       STATE
    ═══════════════════════════════════════════════ */
    let idx            = 0;        // current project index
    let isAnimating    = false;

    /* ═══════════════════════════════════════════════
       DOTS
    ═══════════════════════════════════════════════ */
    function buildDots() {
        dotsContainer.innerHTML = '';
        projects.forEach((_, i) => {
            const d = document.createElement('span');
            d.className = 'dot' + (i === 0 ? ' active' : '');
            d.addEventListener('click', () => goTo(i));
            dotsContainer.appendChild(d);
        });
    }

    function syncDots() {
        dotsContainer.querySelectorAll('.dot').forEach((d, i) =>
            d.classList.toggle('active', i === idx));
    }

    function syncMobileNav() {
        mobCounter.textContent = `${idx + 1} / ${projects.length}`;
        mobPrev.disabled = idx === 0;
        mobNext.disabled = idx === projects.length - 1;
    }

    buildDots();

    /* ═══════════════════════════════════════════════
       RENDER
    ═══════════════════════════════════════════════ */
    function render(i) {
        const p = projects[i];
        clientNameEl.textContent  = p.client;
        projectTypeEl.textContent = p.type;
        projectDateEl.textContent = p.location;
        projectImageEl.src        = p.image;
        projectImageEl.alt        = p.client;
        projectTextEl.innerHTML   = p.text.map(t => `<p>${t}</p>`).join('');
    }

    render(0);
    syncDots();
    syncMobileNav();

    /* ═══════════════════════════════════════════════
       ANIMATED TRANSITION
    ═══════════════════════════════════════════════ */
    function goTo(nextIdx, direction) {
        if (isAnimating || nextIdx === idx) return;
        if (nextIdx < 0 || nextIdx >= projects.length) return;

        isAnimating = true;

        // direction: 1 = forward (scroll down), -1 = back (scroll up)
        const dir    = direction !== undefined ? direction : (nextIdx > idx ? 1 : -1);
        const outCls = dir > 0 ? 'anim-out-up'   : 'anim-out-down';
        const inCls  = dir > 0 ? 'anim-in-up'    : 'anim-in-down';

        const textEls = [clientNameEl, projectTypeEl, projectDateEl, projectTextEl];

        /* — animate out — */
        projectImageEl.classList.add('img-out');
        textEls.forEach(el => {
            el.classList.remove('anim-out-up','anim-in-up','anim-out-down','anim-in-down');
            void el.offsetWidth;
            el.classList.add(outCls);
        });

        setTimeout(() => {
            idx = nextIdx;
            render(idx);
            syncDots();
            syncMobileNav();

            /* — animate in — */
            textEls.forEach(el => {
                el.classList.remove(outCls);
                void el.offsetWidth;
                el.classList.add(inCls);
            });
            projectImageEl.classList.remove('img-out');
            projectImageEl.classList.add('img-in');

            setTimeout(() => {
                textEls.forEach(el => el.classList.remove(inCls));
                projectImageEl.classList.remove('img-in');
                isAnimating = false;
            }, 250);

        }, 230);
    }

    /* ═══════════════════════════════════════════════
       WHEEL / SCROLL (desktop)
       — time-based accumulator reset so trackpad
         momentum scrolling doesn't over-fire —
    ═══════════════════════════════════════════════ */
    let wheelAccum     = 0;
    let lastWheelTime  = 0;
    let wheelCooldown  = false;
    const THRESHOLD    = 50;   // px to accumulate before firing
    const COOLDOWN_MS  = 700;  // lock-out after each navigation
    const DECAY_GAP_MS = 120;  // reset accumulator if scroll pauses > this

    window.addEventListener('wheel', e => {
        e.preventDefault();
        if (wheelCooldown) return;

        const now = Date.now();
        // Reset accumulator if there's been a scroll pause
        if (now - lastWheelTime > DECAY_GAP_MS) wheelAccum = 0;
        lastWheelTime = now;

        // Normalise across deltaMode (lines / pages / pixels)
        let dy = e.deltaY;
        if (e.deltaMode === 1) dy *= 32;   // line
        if (e.deltaMode === 2) dy *= 400;  // page

        wheelAccum += dy;

        if (Math.abs(wheelAccum) >= THRESHOLD) {
            const dir = wheelAccum > 0 ? 1 : -1;
            wheelAccum    = 0;
            wheelCooldown = true;
            goTo(idx + dir, dir);
            setTimeout(() => { wheelCooldown = false; }, COOLDOWN_MS);
        }
    }, { passive: false });

    /* ═══════════════════════════════════════════════
       KEYBOARD
    ═══════════════════════════════════════════════ */
    window.addEventListener('keydown', e => {
        if (e.key === 'ArrowDown' || e.key === 'ArrowRight' || e.key === 'PageDown') {
            e.preventDefault();
            if (!wheelCooldown) {
                wheelCooldown = true;
                goTo(idx + 1, 1);
                setTimeout(() => { wheelCooldown = false; }, COOLDOWN_MS);
            }
        } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft' || e.key === 'PageUp') {
            e.preventDefault();
            if (!wheelCooldown) {
                wheelCooldown = true;
                goTo(idx - 1, -1);
                setTimeout(() => { wheelCooldown = false; }, COOLDOWN_MS);
            }
        }
    });

    /* ═══════════════════════════════════════════════
       TOUCH (mobile swipe)
    ═══════════════════════════════════════════════ */
    let touchStartY   = 0;
    let touchStartX   = 0;
    let touchCooldown = false;

    window.addEventListener('touchstart', e => {
        touchStartY = e.touches[0].clientY;
        touchStartX = e.touches[0].clientX;
    }, { passive: true });

    window.addEventListener('touchend', e => {
        if (touchCooldown) return;
        const dy = touchStartY - e.changedTouches[0].clientY;
        const dx = touchStartX - e.changedTouches[0].clientX;

        // Only trigger on predominantly vertical swipe ≥ 35px
        if (Math.abs(dy) > Math.abs(dx) && Math.abs(dy) > 35) {
            touchCooldown = true;
            const dir = dy > 0 ? 1 : -1;
            goTo(idx + dir, dir);
            setTimeout(() => { touchCooldown = false; }, COOLDOWN_MS);
        }
    }, { passive: true });

    /* ═══════════════════════════════════════════════
       MOBILE ARROW BUTTONS
    ═══════════════════════════════════════════════ */
    mobPrev.addEventListener('click', () => goTo(idx - 1, -1));
    mobNext.addEventListener('click', () => goTo(idx + 1,  1));

    </script>
</body>
</html>
